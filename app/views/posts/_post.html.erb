<div id="<%= dom_id post %>">
  <strong>Author:</strong>
    <%= post.user.name %>
  <p>
    <strong>Title:</strong>
    <%= post.title %>
  </p>

  <p>
    <strong>Body:</strong>
    <%= post.body %>
  </p>

  <p>
    <strong>Comments:</strong><br>
    <% post.comments.each do |comment| %>
      <%= comment.user.name %> commented:<br>
      <%= comment.body %>
    <% end %>
  </p>

  <div class="likes">
    <% if like = post.likes.find { |like| like.user == current_user }%>
      <%= button_to '❤️', like_path(like.id), method: :delete %>
    <% else %>
      <%= form_with model: @like do |f| %>
        <%= f.hidden_field :user_id, value: current_user.id %>
        <%= f.hidden_field :post_id, value: post.id %>
        <%= f.submit '🖤' %>
      <% end %>
    <% end %>
    <% num_likes = post.likes.size > 0 ? post.likes.size : nil %>
    <div class="num_likes"><%= num_likes %></div>
  </div>
</div>
